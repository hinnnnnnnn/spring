AOP 적용
AOP: Aspect Oriented Programming
공통 관심 사항(cross-cutting concern) vs 핵심 관심 사항(core concern) 분리

⚙️ 스프링 컨테이너
TimeTraceAop (시간 측정 로직) 원하는 곳에 공통 관심 사항 적용 
helloController -> memberService -> memverRepository

hello.hello_spring - apo - TimeTraceAop
TimeTraceAop.java

package hello.hello_spring.aop;

import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Aspect;
import org.springframework.context.annotation.Bean;
import org.springframework.stereotype.Component;

@Aspect //Aop는 @Aspect를 적어줘야함
@Component
public class TimeTraceAop {
    
    public Object execute(ProceedingJoinPoint joinPoint) throws Throwable {
        long start = System.currentTimeMillis();
        System.out.println("START: " + joinPoint.toString());
        try {
            return joinPoint.proceed();
        } finally {
            long finish = System.currentTimeMillis();
            long timeMs = finish - start;
            System.out.println("END: " + joinPoint.toString() + " " + timeMs + "ms");
        }
    }
}

//            Object result = joinPoint.proceed(); (option + command + n : 인라인으로 합침 -> return joinPoint.proceed();)
//            return result;


//스프링 빈에 등록 or @Component
//springConfig.java
//@Bean
//public TimeTraceAop timeTraceAop() {
//    return new TimeTraceAop();
//}
