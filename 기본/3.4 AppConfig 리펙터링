ğŸ“ŒAppConfig.java ì½”ë“œ ìˆ˜ì •

public class AppConfig {

    public MemberService memberService() { //âœ…MemberServiceImpl ê°ì²´ë¥¼ ìƒì„±í•˜ë©°, ìƒì„±ìì— MemberRepositoryë¥¼ ì£¼ì…
        return new MemberServiceImpl(MemberRepository()); //MemberServiceImpl â†’ MemoryMemberRepositoryë¥¼ ì˜ì¡´í•˜ê²Œ ë¨
    }

    private static MemoryMemberRepository MemberRepository() { //âœ…MemoryMemberRepositoryëŠ” ë©”ëª¨ë¦¬ì— íšŒì› ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” êµ¬í˜„ í´ë˜ìŠ¤
        return new MemoryMemberRepository();
    }

    public OrderService orderService() { //âœ…OrderServiceImpl ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ì„œ, ë‘ ê°€ì§€ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±ìì— ì£¼ì…
        return new OrderServiceImpl(MemberRepository(), discountPolicy());
    }
    
    public DiscountPolicy discountPolicy() { //âœ…í• ì¸ ì •ì±… êµ¬í˜„ì²´ì¸ FixDiscountPolicyë¥¼ ì£¼ì…
        return new FixDiscountPolicy(); 
    }
}

ğŸ’¡ ì˜ì¡´ì„± ì£¼ì… ë°©ì‹ (ìƒì„±ì ì£¼ì…)
â€¢ new MemberServiceImpl(MemberRepository());
â€¢ new OrderServiceImpl(MemberRepository(), discountPolicy());
â€¢ ìƒì„±ìë¥¼ í†µí•´ í•„ìš”í•œ ê°ì²´ë¥¼ ì§ì ‘ ì „ë‹¬(ì£¼ì…)í•¨ â†’ "ìƒì„±ì ì£¼ì…"
â€¢ ê°ì²´ë¥¼ ì™¸ë¶€(AppConfig)ì—ì„œ ìƒì„±í•´ì„œ ì—°ê²°ë§Œ í•´ì£¼ëŠ” ë°©ì‹ â†’ "ì œì–´ì˜ ì—­ì „(IoC)", "DI"

âœ… ì¥ì 
â€¢ new MemoryMemberRepository() ì´ ë¶€ë¶„ì´ ì¤‘ë³µ ì œê±° ë¨
â€¢ MemoryMemberRepositoryë¥¼ ë‹¤ë¥¸ êµ¬í˜„ì²´ë¡œ ë³€ê²½í•  ë•Œ í•œ ë¶€ë¶„ë§Œ ë³€ê²½í•˜ë©´ ë¨
â€¢ AppConfigë¥¼ ë³´ë©´ ì—­í• ê³¼ êµ¬í˜„ í´ë˜ìŠ¤ê°€ í•œëˆˆì— ë“¤ì–´ì˜´


